{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "errenvelope.Error",
  "description": "Structured error envelope for HTTP APIs",
  "type": "object",
  "required": ["code", "message", "retryable"],
  "properties": {
    "code": {
      "type": "string",
      "description": "Machine-readable error code"
    },
    "message": {
      "type": "string",
      "description": "Human-readable error message"
    },
    "details": {
      "type": "object",
      "description": "Additional structured error details"
    },
    "trace_id": {
      "type": "string",
      "description": "Request trace ID for debugging"
    },
    "retryable": {
      "type": "boolean",
      "description": "Whether the client should retry the request"
    },
    "retry_after": {
      "type": "string",
      "description": "Human-readable duration to wait before retrying (e.g., '30s', '5m0s'). Only present when RetryAfter is set."
    }
  },
  "additionalProperties": false
}
